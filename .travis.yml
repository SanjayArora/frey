sudo: required
language: node_js
node_js:
- '4.2.1'
env:
  global:
  - secure: DAMC3dcumbrzkpIMSaGEOnjL71zn3jld3IJAVlt0VqKqxgHB72vdrWB9tFT25kicJPLEoZFyHcfTN4t6+irf2foXBl034Gd4ciSAw8d3ZpRZHGcKbc02dsAFZU/gPsyQMvIDZOTZ3oGFZY0UmXl0x7L3MnZg7gzJ/n12pUK1kHxH8bSXQM8/T9UyUzjq2gyu389/piQsXle7ZXSXlxtC+KDqrngKmko/afuo2OZ9NQUGXMjvfg1Zjd+P6SVroOMKLQAJHwk5o70W33WPGvdHJx8ompIxtVCzJ/jZslw+dzEmLQqb9C+OVU2Wx8W+BxYOs/TRsKhjsx/QVQyEyNpjwkw1pSFlhzjWbDTvLo6jin+QvOnOYBrUXz6YtCEOP/PfVsiEdZsAXfwUDzYtzLjBvtULw+SleVm7sCDeOaZoaHkyHdtWjndcVrCcaK6yeJbG69xeGYanKjk2XqfPtxJTg2SpCJnBkdVUUOzO/ZD+dJ5V9vVHdoDieIJ7uJ6pQwuCwP/lM2+tAus4yxxd4pNLhQf4PK2UCY9ssfPre4rTFawMrSazMFwvewdTR5WGm4JsTRHMC4o9DipmzanH2Uk5D0QKAZ7Sl88AGVxRdISGLTKMEgEnNlTZAuwbqmlU+ke0uGldXRSmHBmaCgI2r90rJLb2Kgn/vbpt8aJyJvwmIv8=
  - secure: mdZbUTLN4RQ0ZWm62o0b+3oYtDL8TAcF1ri8edOgXCmbx46maEuRDvrmzNnZpYiW0mRq3dwtCjbHRmmKCdk/JNDi4P5SsF6mFVHte15q2Anzt33nqTJtvGyzzAEUSNHFSO1x8pmKUdUPIiQhpkY8klFuPC/h/QGO9Qf64xlz/OUJapxvRqkWJBnuRF8Yyr26TYVeF0gWa61+gla6B7Y4rW3+zVSVVj8LX97muM/KF4T/t20k/6002Ud9+2XHYrDupEMTUECh5RqBrymXNRmBQieU4n1t0nkacmDfQSOgHVb3rnINRARxFPAHMCiwidyxe9dhHFROKfRAc9tGBMWUyy0SyPmrV9de2VzVkXOAtFVhwzYpX7NNYCICNQ4QbwL8xXr7zMJtKFw74wfX1Fy6JiGWBzsTmUD9hAIqXOcVZyY9sLDHZBgmoTb2jfaeYAAUSlCuuVMraLPW4+lEy6fGCQvG4jPmy138WOtKozAFnDqy8eBBWVkkvB4eJNDYLbQpfTIfrTzOuKI/gSeV3uKlQvGEjObve311IhetXpu3uHYQzbYK88NFK1DtHZY3+nKE0KtYLTS+KiRIs2LehtrtLXdGZc5KXvWp3TgIT/Z/vj4Uv8IUf8IohlcyPNqV2SjbnprXNTt+v2VgKodpr3ICPKITj1HWvPobASAf4QCmvMc=
  - secure: YuanWh6wPTx4vcW6Lfc85ymZ00M/lKQAhkif7TlT7ktNVM8dgu9TWNwYfe6cZjqD0KJDELeuz5o6wRrBPb9K+j6Rbg0nds3ThHJoYv3oBraVVPpQnZnMSSWTwBr0D/oaiCPVGLQ+rIq6h57/53yKpobGo7Ybou9Y260F5TcahtY6G1yr2ySjJYbmvraaUcd+8H7NGcZTWeO/SHNEEV5xb8EUpEFLWGoDMcJV6A3pxMPCj5eUNg0hhCINtgMBRe1+QFtlJ52kFx1flKezicexTqib0uK79r3/M7zmckY9UZXMX50G4uGs2w+wIGIjjsj5Oyld5RP06zrJF/UTwc294b9+eMX/sEbzmdrpeSiw7hTdawb/Q5p6ZhYoxB2uDydYss8O6YutLl71uwv5YpANEhlBA5TRs7WMd7vy7c8ZqU4ksliVuufIgGRkHhffjkmqN0pWs5LhgJVm+pMmBjHC6sm+zzrt49Nf11BWvi2nk5aZeZNzZigPnzk3nsSFaKxlJEIOTSuTxe/xZLV/xKv15buxPS3v/6Pxkfrz+3pU4nkcYwhhmn7bV4D8HoJuN9fdDGwUmwffTgOkTjYiKhbjn3tGZhSFnq0KptD3PqRlJfPxbZS8ZbmTIPSI/kodYJb7D/kuvKG7kJuaspDnOdDlRQ8b+UoJMV5jYhn4d6vUzMY=
  - secure: iNiHJtA1aKjGnkwAtT/t0wg4dP8v57O5be5PJG6xt8Fyx+RMtLycn5qbunxjZ/zGd5Zm+RBKjZjpAllnVOQng6VyC+h0Lk/3cGzpx5pMNxVjeUN0TXK/IKNwNUIbYhlyBA4NWM4ZyhaAZP4z6+TGKsbxnutFGZhAmZWXV9OE6pgqsz5B+zSYvQcDtJQKYOnqkKSsD8BesSV7Pra/K6f2XlpCq8u4IF45vwzx3xSp8LoQBrjP7T6bK+WrBkcHwtHryB5bGNZqpRyVvkfvioBGE8tSXhZMxXJKdq5626PSu3IK/5xlQKsjOoSJcMcJLOolptcRifV6/zPfAWzSXXCGACVpK4KzI9BSYHjqcVhfd19K6cuZ9cMU3nf2EOsM3uXyqxfvEENT2VPM0Z93viZ0Zs5Q1wq+iU5qGe1H4qlsYXWeqsxTFb4v/vyH+SsAeT2mfzX3jz6e4yruBD6ik3lQzbFPGuNZ7OEZvuhLHS0ioXDgNgFgmSE55dr8mPhHeZl5JphQYhP25g52nU6QSsQtS+G3SMwkOMACnnusAIk/qIpL2GHntkjzYGKSFv7PRNHcE68yRKzEkniuwMe9NDHv4yF9iL2rOi9eGsUEtmo+obislBa19wrU78hVseETai5VRyXETh65bOvAhMyMhLHS20aaJtj03p8hUKY6byX002E=
  - secure: EoL1FfLubd9bFfEOG1BlNBgyo03Y9qLGBbB10+GghBDHDWK01MboGu96VJwdPPZ96XIDcjJSify6YvIQ8lMtzb4mWU1RDa02jk8LAgazSBp4UqXlpD6srexRIrIA2bnGH1KAbEnE/r20aqcSTburq5dJXM8YhqB/IKZZRvo7nF9rRflaK7LaRqE4Af4z3r7AcPzvNMPN8wYulQd6XaUwXp34wfaMN/cd1WqwhmD7OmY43fXocwUtUlUSKUQuSjc9qTweUGyuomz8oRFwZWX3QncFXryw7+HwOK2MePt65dafJAPtg5zG2tPZCbufJMTxaH5P6XALh3gshIT66nYVh6Gzx6j3o1lGB/ZMz7S/BzgdsIriFH4svfJ5iSvr+U867rMpteXQYg9J/lF98mRxXyYXNIwqtxE97IaY8Vt6FdjLr1GrkA68sIMaHcFCuFoz0SQ7TqtmSUbI7gm3qPkbEBHGnU4KMFNYIXEm0H68WdZoguPCYzwQkUyh7amyE0XJZg6Qs8HcX4TlodiYsWRpcYFzNvzO1H7lxf+KjyzbqxbAvkuV3vbrcUFnt82cNLpEEyf2p/woPxHwoZqSKCC6sowpauptRsZfWB92OH0+CO/NeLcb8IljhRygUdpt6uNqnliRIPhn0108/sm9PRQMfszIRLa/GnckDsvmt+0eg9o=
  - secure: PFg5QP0rovy9wNmFrL48Jyn0pSiDkMC3PmpO2KpwORNYduLQsiSWqAuNFTg79Crnflbo1hmuIYx+PK1xAgprCG67BDGrnaUnX0tVRdB45Lt1Y4Kc0bDhiOe2khPlklKaQZdCrX1sgCRD6Mw8pTVvP9NLrlowV+lyrkrJoo7NWpJ9k0KIp5qepV/TZ7paPj1uAyeYRShThHdLgqwsETfASWHXspNuu3PVlXFsOcDdo97X7DX3G9xaT5I24O/3dvwJtfyfYy8Uez/MjwKUKNFfzNDScXAqN9W+MwdfZe7/OYox4a2owfY1jnLYIFZrLfpB5/iYP2I4LUn5rSCE9EIMex/OpL9D61mwOrkG/k8RtLpNv4tQjB+aOlELAfy09e+IneFPiLlXZT7Oi4n0yNtN3TDhOWoyq9IuJR6ERpnpXUraqa/XvNwcyzwUt99ALakwzY/X76j+UU2oE8RHqOX61d1zxeVvKvPjhY4a5/OEaLFUq2cMp21hXrKfNMEqouWaK6hCi4D2KsopAinC9mcd+H+TQnTnsmh1dWbUlyLanHK4OOj95WszZBxoKNAu74cdcV6TgvJJVG/1vkr7HqAyBhvAUa/QoB7zycykOss5SkRO0OeX47OGiDmwQV2QqMzTURbFqMjvokIhqjaAi9GbQwviA+rxis6wLXD3zbjQWwE=
  - secure: OecQQeNHNe9SsWXK0fJ35hTIDeebFtpXcmWLQNbV73eMO8ollavac2C7Dks521oBYfI6euo2D5PT0K0FY9aiXrBPHAJ1lfOQKZtK6cZkNMr01QfrEcx4JR09DzpCpgi4hIgcUVfb0CPlMH+gX8Kv7tohmIZk1ITSccMb2HEVENmCPue1HC9xx8Gy0CkDcoVsVXvz65pV+rRa7a9amXmy9CRVj1Ly5oBjI9ZiDx3uK/0WkhjFna36RCsntbVyel9NLi/Ebwvmcofwt6ZnZJh6vgcNipd0FBqjg0mvZXHvp5bRaXOyAVPf0MRItHpsi50tQKKJVYtdEgdU9oFGhrqy9ewjjOkNOTPGAvr/ffcP6tx5jD8QPc8YPJi4TPe/CEJ1FY95f9Iaix66/f7h0v6R9Am5BJeHILKiBXFa271AnokjgN5ZDR1ZM7JSqIZhjr+hSgj/tasLMhSj8U5rKeOUG7Frq2EZ4nOoAKF8t7Y+v21W9g189rz1+W1mZ1BK7q9pL9C8laclt8uJJgeN/UoPOWEhDIgzkfYYG62FcgqBubsCyXxgEq+E6TQ/1RlWkcNCo94KnglwS3K9AHnqlqd5kLFHMVrqFARq2gd5Bi/skQDopP2xzCmCdU6o5crASbYvYjacwykiMDUytcpvK3sBk/JUk2WUu6mxemgDRDY+KQI=
  - secure: pFPDVCHZgs1wyv1yKG6DPWK2+UhjBHGa/n3Jd9vQgzANcVYpGDDLmWz9QaWIYqPMcH58LQu1g8RJaUR7Ur370YMrgMWx3Li6gjuMZ4POLm1kgc/DJga1snWaRdqjVTgFblpLjiXwyOHEA/sQVNh6IZMhqq/a1wmEpGaStroBmWhJmApBI0YIF/pXjZ/1WFEBUcQTkRFwJ5fNccJ1AdKVPiIErAElM5ha7vyW9U1i2lG4A15Ej12HZFh7zZRjTI5Pm765wc4yptESoNRZZIC/JtwGFcol9rK4QZj+GyGiK3ZGxvYtRICrKANBpX+fgabmK8YVkYZ/q/FCU4YpJkOTDppTzaX2Q9Fez8cdza+lihY99VIMy2QOYpjHtzW2MyJSl2Pzb2hxUMlaHNhW+XlK5LMTY1vVPyEySdTSGiMGbIdweE0LOc88xYMSDIUobiXpNp+gsxK7i0SKJAFZMdyBCtwv8MqlBvNf35jlcFTa7yDr+Oi6HUsVIDjprRW/Q4QUVe6ot1T4oL0MyRMAPhch/zqAdhr2/r/3Bg2DKHDaaa/IBZgQCkV0Zsq84oOef1P10uR9Ai2k6tFofxJ6ovvTZJl4K9zXM5EVPv80VpZD1mEBhotDcibbmJXM0zYSaSWZ5tFSrU6LqYo1pqwCzWtEk3XhDSQDb1b15v0aV1roeAs=
  - secure: jwNp9VF+nyEJSXyzUvy5Lfmy9A8I4/xfb4iiWbq93pCrUUCo/5/hvsFx3Z5arrCN2J/wL6fuJTlbN9VjVr8uyziXaB8DN0nSD2CzKzrjbzNhY6OzYhUUBweQ2H3VEwf0V0VRbQHefccDiqo+1gc/wJoKrfwkc5esL0c2xLh/bAvGzdyTXhTuWbA13RO4SdCatgNYMBU/+4JF91AEOxFHjDDQLqWwOyagNmCulO35qgGulydfWCzOfbfMPUhPY7u5DzVb/PKEnKseGp5np1dNOdv3/9qsdUZYk55zmt8zZ7LuwNU9voHYfXR1cl9x7iEGlM3wW2y9yTwOvMjUVvSDy269xlRnzYoArXEOnGq9Ipqq3J8u4zWkQi60+CPiIQpC/AWesd/sc+koI/I9WjUzmVvMSg+SL/2i0NQyVkRKAyLkkUE0+u99M7bZYPUvTIXDqiA75xqgun5v/QMwgCCz70GpS72Pe9/Zs4lzRq+h5Sl2QcdPA7BzDTz47+McnaM4UXPSvaJ9ucB7S7ZkY3bhD/mtRe+rr9qJmhdvBnF0W6EzEnc4egkrh8hPPbnrUeCLdpqblk1cWCdlGN3/9tvhDJskn1aBygy6nNI8XDL2xKcyg2DLSOF7FZuP2vkRDvqeMuL/36A4AFWFFf94AFCNKkgL4q3ndUqoPyVvVKrVGQ0=
  - secure: fWDDujK26z0YAn9FB+8qsqk3PXF8t+Q8x+nNVDk+gr2bYFzp8c89tRQDvigM6bBF/xdunnEVY0CqzLIqykeJUN0OK2pW0D53yExlFgqd4iKlWPF5ukWc8mTXWMMuccqAXkaYM9y0+zH5/DuExZbrOAHaDMN6Hw2YIwWIWN6EFilSHHqogdsiz+QpBgkf10ejlGEaIdXKNiigijI8qaktRVIbD/jzg2Z1pRDDq8QX6ir4y8PxX4cea7ptsf2t7GSQXxiqTUo2XygAkznkdfib+tq4MRmM2W6xZPSDJp5kqFokzn5GGZ6Ncu25K1J0Fi64pWzEosoDCH4FplUj6BBntUdUHlwigo/4dULk9OMH+6cbtXC+nN1F31cpP8J1J8MYV933sdvG2sHbaoIrlOu5ReT23oBCcpCJ/hy+qdMpStobBqphaGDdWqGDv6gg5+iV9aHaU73vYRQ/6Mid6b+HX1wuaqyCT0TsPpoAWcpSavAOmWCwTykKRQH0vUdDglrTV62YD5T8H9UAwAHafHYleBIwWW5Ezq6IwjhGQlGwJAIikz4/VkKlrMgxwRA6TDw5wF+cI8r3UJp/2sBGZQxxKd1z+lFAIhx95eUVR1jvPoTMYCbi+h0nDW0xDJFb14h7pz/VWulu+j6QYuB3ItUOTGgoyzy6dyN4s+pEwXLVVe8=
  - secure: E7gDvgPBhC3G5saJf/dVAKkhuQtxzkheIMDeMpiofonJ0NhN3qchszIvRqTFq17vQUtb4LOddQ2OzfbyHHIORjlQtECK2OZs/qE0mv3OZBEsoMuNdQpD0iPFyw8+LiWNTvz87up0znOuxnfy5MDPnSGf3H9bDt5gLX2F0lCiFsWkC0zz0jQf24rCgA1AjucoAi/fBt5WCnJyDXKzSdcM2GjZGmYxrMN9afr5lExBfYm8eK8nf4HYV8E0scold+J/yuQdcyDuWstLRoNYM7pZVKlYEM0g86Y8epAqE9ivhGCso4z3hT2JVIX1RkWDfmuDc/uwNCoBKloRTskakZURQcsqtET6raS3vHMHjZtrrQKuUdURQBDqo7QJ1DB+3IIoPFbbbAR4y31cL0W4b8wmur6PE721mpajnXE8Z/M5sAxPx/AyTidMnHAZN6HMlj8XOyQ5BS+rdgf8xmw59kuSndcLJpKzkegq1rbiI9gV9yDpNBz+gtW3ohgTESatR3F+CVac7ge+yJXLi3TuU7+vG4CmIGJToq4VkN9kxn8at7lxLHIJOjiC+gNhijFR6JY/93Ulz4v3GzYYvBObjzKg60pvvyaSZnnxsAUOuS+xXhRMJtkyI2WWlZ5dvT8TaLtSNzNWC4Jse3Hlk9NcUZBf43OZkt1PlBYSfbcs7o3pu8Y=
  - secure: gxSSalqkaT06AXVzXgZHD7ZMjUMULVCzhcC9BlyFAXaAVMWlJ8j0ACfraDp8iBG0nKNwyP7bgw76F5PCelxBe3oVaMb0lwdLX0J7o8ONhPs/WiP1hLWHhn/CICsXyfY1YlGICxup+tccEuptTzPobfIY2+X3dBHPnvcyfJyuvCd3PSlkFToKLCKyKv9l7edHlZvDAolsV40lU6hjzgksenJTmzNbN13NylDQC0/v/Bt1gR6p/IzplDpCw+FOMfRsXpkT5FmzmKUwoPKPnfYn9/GbM0Zqo12jTqVQ+JGCneNBSPE01Eyvm6ZV6vLmyy3vNweGxTg/p0n4QyJI4gAUKTl6OquFHKx7GTEsxtIr+CXL7TLZMImQ+YLyudYo7hksu1l+Glutxx4WL9YdjtcVbIZcMuMcPJ//3VumKf9+BDENVkBtW52/xMX6sj5zRaT6x19d6g8LmBpWwZBi+eCmwzxrIy+04YjAg6lGwY2badVPmw99Prg5KOhOhmdSu2kZISg04Y+DoJOBgxi9mEDMcYCjzMclr3qYjP8SHSh4xgrFRa9uzf2jBr/EBcSnuJKieodScELgczsobYSQM1qIcywy458kVVZkX+52Etpo2oI5QYGe0fugbuy9e80ndSaqBME5paUfxLNe89PO6PhTWykhn6WyV30/y153CetlDxI=
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
    - realpath
cache:
  apt: true
  directories:
  - node_modules
notications:
  slack:
    secure: HdV6fSf3MPmwpseMdPzs/wXWTpn/6/mUhV0uI12WiASnQj2lcsMZLrOfFJSdBVAroACLVs6vC7GEzV7Dz8aimkXHvL2qN5Djc+9Pz4DLWwRLULndjjmQhkCfYEQiA9Pzy9h95PfvfnACTEtD7BWdkZddSppwc7VPmvj7AuuW0CeJNGAdnnqtf3w2eHsKdSQSDcEEorrWniBBTVIVKpQ0Wwl1dVh0bjTVVXDc7t0mNHepi6hrJH4qyhKwY8YTVXc11gZvktXsTWM+YOokyxAKPNNE/eYHC1V/AR29LjLSlA9pO/wZfVam/UomLAMbZdEBa7OBfnHrhOOsYrJPVoP7T71p2FJUKAopb/0+L1oSVas+DZScdXuKssnkoAa+A6a4Eh7fAMqqHx3J1O4mQCrvwaCu/CkjuCM6NMoPUYqRplel5Zaj39TxDLZhMWhGjNPkhqTkFZZ237ZCGfSbr3aXk6NrpNLXvBMRMbJfFxd2+2Qftrx+HCeAIlQGT5BIUO/q65hc0Lsfiwff7GEisZTYsKUlfstj3ozgOC04UQwdgnYFwDHWlA9dPK4dNWyaQ86/Z4RWGkn/64u40H9RVjyGb0CUGb5zDbb5egnYJ475uJ3wybDE9zuTm8KOQ5NsfE/Pbbpq/MxIcdhExRj4CA5ToUO8u+P83H7WjVhkyiUMnSw=
script: npm run test:full

# Travis docs: Note that pull request builds skip deployment step altogether.
# https://docs.travis-ci.com/user/deployment/#Conditional-Releases-with-on
deploy:
  skip_cleanup: true
  provider: script
  script: scripts/web-deploy-travis.sh
  on:
    branch: master
    node: '4.2.1'
